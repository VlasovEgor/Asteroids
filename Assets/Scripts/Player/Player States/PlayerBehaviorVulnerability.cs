using UnityEngine;

public class PlayerBehaviorVulnerability : IPlayerBehavior
{
    private StateMachinae _stateMachinae;
    private Animator _animator;

    public PlayerBehaviorVulnerability(StateMachinae stateMachinae, Animator animator)
    {
        _stateMachinae = stateMachinae;
        _animator = animator;
    }

    public void Enter()
    {
        EventSystem.PlayerDied += SwitchState;
    }

    public void Exit()
    {
        _animator.SetBool("PlayerInvulnerable", true);
        EventSystem.PlayerDied -= SwitchState;
    }


    private void SwitchState()
    {
        _stateMachinae.SetBehaviorInvulnerability();
    }

    void IPlayerBehavior.Update()
    {

    }
}
